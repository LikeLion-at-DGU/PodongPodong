{% extends "base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/components/restaurant_search.css'%}">

{% if restaurant_list %}
<section id="testimonial">
  <div class="container">
    <p>"{{ search_key }}"의 검색 결과입니다.</p>
      <!-- 식당 리스트 -->
      <div class="row gx-2">
          {% for restaurant in restaurant_list %}
              <div class="col-sm-6 col-md-3 col-lg-3 h-100 mb-5">
                  <a href="{{ restaurant.get_absolute_url }}" >
                      <div class="card card-span h-100 text-white rounded-3">
                          <img class="img-fluid rounded-3 h-100" src="{% static 'img/gallery/food-world.png' %}"/>
                          <div class="card-body ps-0">
                              <div class="d-flex align-items-center mb-3">
                                  <div class="flex-1 ms-3">
                                      <h5 class="mb-0 fw-bold text-1000">{{ restaurant.name }}</h5>
                                      <span class="text-primary fs--1 me-1">
                                          <i class="fas fa-location-arrow"></i>
                                      </span>
                                      <span class="mb-0 text-primary">{{ restaurant.location }}</span>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </a>
              </div>
          {% endfor %}

          <div class="list-group">
              {% for restaurant in restaurant_list %}
                  <a href="{{ restaurant.get_absolute_url }}" class="list-group-item list-group-item-action">
                      <div class="d-flex w-100 justify-content-between">
                          <h5 class="mb-1">{{ restaurant.name }}</h5>
                      </div>
                      <p class="mb-1">
                          <span class="text-primary fs--1 me-1">
                              <i class="fas fa-location-arrow"></i>
                          </span>
                          {{ restaurant.location }}
                      </p>
                  </a>
              {% endfor %}
          </div>
      </div>
  </div>
</section>
{% else %}
<p>"{{ search_key }}"의 검색 결과가 없습니다.</p>
{% endif %}

<div class="page middle">
    {% if pages.has_previous %}
    <a href="?page={{pages.previous_page_number}}" class="page_click active">◀ 이전</a>
    {% else %}
    <a class="page_click nonactive">◀ 이전</a>
    {% endif %}

    {% if pages.has_next %}
    <a href="?page={{pages.next_page_number}}" class="page_click active">다음 ▶</a>
    {% else %}
    <a class="page_click nonactive">다음 ▶</a>
    {% endif %}
</div>

<script type="text/javascript">
  $('.responsive').slick({
      dots: false,
      infinite: false,
      speed: 300,
      slidesToShow: 6,
      slidesToScroll: 1,
      responsive: [
          {
              breakpoint: 1024,
              settings: {
                  slidesToShow: 6,
                  slidesToScroll: 1
              }
          },
          {
              breakpoint: 600,
                  settings: {
                      slidesToShow: 4,
                      slidesToScroll: 2
                  }
              },
          {
          breakpoint: 480,
              settings: {
                  slidesToShow: 4,
                  slidesToScroll: 2
              }
          }
      ]
  });
</script>

{% endblock %}